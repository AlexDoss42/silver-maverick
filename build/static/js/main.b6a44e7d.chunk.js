(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(32),l=a.n(i),o=(a(70),a(9)),c=a(25),s=a(20),u={user_id:null,username:"",email:"",firstname:"",lastname:"",phone:"",venmo:"",profilePic:"",authenticated:!1},p="UPDATE_USER_ID",d="UPDATE_EMAIL",m="UPDATE_USER_DETAILS";function h(e){return{type:p,payload:e}}function v(e){return{type:d,payload:e}}function f(e){return{type:m,payload:e}}var b={trip_id:null,group_leader:!0,name:"",user_id:null},E="UPDATE_NAME",y="SET_REDUX_STATE";var g=Object(c.b)({account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case p:return Object(s.a)({},e,{user_id:n});case d:return Object(s.a)({},e,{email:n});case m:var r=n.user_id,i=n.email,l=n.firstname,o=n.lastname,c=n.username,h=n.phone,v=n.venmo,f=n.profilePic,b=n.authenticated;return Object(s.a)({},e,{user_id:r,email:i,firstname:l,username:c,lastname:o,phone:h,venmo:v,profilePic:f,authenticated:b});default:return e}},trip:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case E:return Object(s.a)({},e,{name:n});case y:var r=n.trip_id,i=n.group_leader,l=n.name,o=n.user_id;return Object(s.a)({},e,{trip_id:r,group_leader:i,name:l,user_id:o});default:return e}}}),O=Object(c.c)(g,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),j=a(12),_=a(19),C=a(2),k=a(3),S=a(5),I=a(4),x=a(6),D=a(1),w=a.n(D),U=a(10),P=a(7),T=a.n(P),F=a(8),N=function(e){function t(e){var a;Object(C.a)(this,t);var n=(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).props.trip,r=n.trip_id,i=n.name,l=n.user_id,o=a.props.pin_id;return console.log("Pin_id destructured of of this.props.trip PickATrip.js",o),a.state={trip_id:r,name:i,user_id:l,pin_id:o},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.pin_id,i=t.trip_id;return r.a.createElement("div",{className:"tripOptionTiles"},r.a.createElement("h4",null,a),r.a.createElement("button",{onClick:function(){return e.props.handleSave(n,i)}},"Save"))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).state={myTrips:[]},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.get("/trip/mytrips/".concat(this.props.user_id)).then(function(t){e.setState({myTrips:t.data})}).catch(function(){return console.log("You have an error in your CDM for MyTrips.js")})}},{key:"render",value:function(){var e=this,t=this.state.myTrips.map(function(t,a){return r.a.createElement(N,{trip:t,key:a,pin_id:e.props.pin_id,handleSave:e.props.handleSave})});return r.a.createElement("div",{className:"saveToTripMenu"},r.a.createElement("h2",null,"Choose a Trip"),r.a.createElement("div",{className:"tripOptions"},t),r.a.createElement("button",{onClick:this.props.handleCancelSave},"Cancel"))}}]),t}(n.Component),M=Object(o.b)(function(e){return{user_id:e.account.user_id}})(L),q=function(e){function t(e){var a;Object(C.a)(this,t),(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).handleFormInputUpdate=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.handleEditPinSubmit=function(){var e=Object(F.a)(T.a.mark(function e(t){var n,r,i,l,o,c,s,u,p,d,m;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state,r=n.pin_id,i=n.title,l=n.media_url,o=n.description,c=n.url,s=n.price,u=n.address,p=n.city,d=n.state,m=n.country,a.props.handleEdit(r,i,l,o,c,s,u,p,d,m),a.setState({edit:!1});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleCancel=function(e){e.preventDefault(),a.setState({edit:!1})},a.clickSave=function(e){e.preventDefault(),a.setState({save:!0})},a.handleCancelSave=function(){a.setState({save:!1})},a.handleSave=function(e,t){w.a.put("/pinToTrip",{pin_id:e,trip_id:t}),a.setState({save:!1})};var n=a.props.pin,r=n.pin_id,i=n.title,l=n.media_url,o=n.description,c=n.url,s=n.price,u=n.address,p=n.city,d=n.state,m=n.country;return a.state={pin_id:r,title:i,media_url:l,description:o,url:c,price:s,address:u,city:p,state:d,country:m,edit:!1,save:!1},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.props.pin,a=t.title,n=t.media_url,i=t.description,l=t.city,o=t.state,c=t.country;return!1===this.state.save?!1===this.state.edit?r.a.createElement("div",{className:"pinTile",style:{borderRadius:"10px"}},r.a.createElement("h2",null,a),r.a.createElement("h4",null,l,", ",o,", ",c),r.a.createElement("img",{src:n,alt:a,style:{width:"inherit"}}),r.a.createElement("p",null,i),r.a.createElement("div",{className:"pinTileButtons"},r.a.createElement("button",{onClick:function(){e.setState({save:!0})}},"Save to Trip"))):r.a.createElement("div",{className:"editPinTile",style:{border:"1px solid black"}},r.a.createElement("h1",null,"Create a Pin"),r.a.createElement("form",{onSubmit:this.handleEditPinSubmit},r.a.createElement("input",{type:"text",name:"title",placeholder:this.state.title,value:this.state.title,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"media_url",placeholder:this.state.media_url,value:this.state.media_url,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"description",placeholder:this.state.description,value:this.state.description,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"url",placeholder:this.state.url,value:this.state.url,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"price",placeholder:this.state.price,value:this.state.price,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"address",placeholder:this.state.address,value:this.state.address,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"city",placeholder:this.state.city,value:this.state.city,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"state",placeholder:this.state.state,value:this.state.state,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"country",placeholder:this.state.country,value:this.state.country,onChange:this.handleFormInputUpdate}),r.a.createElement("button",null,"Submit")),r.a.createElement("button",{onClick:this.handleCancel},"Cancel"),r.a.createElement("button",{onClick:function(){e.props.handleDelete(e.props.deleteId)}},"Delete")):r.a.createElement("div",null,r.a.createElement(M,{title:this.state.title,media_url:this.state.media_url,description:this.state.description,pin_id:this.state.pin_id,handleSave:this.handleSave,handleCancelSave:this.handleCancelSave}))}}]),t}(n.Component),A=function(e){function t(){var e;return Object(C.a)(this,t),(e=Object(S.a)(this,Object(I.a)(t).call(this))).handleDelete=function(){var t=Object(F.a)(T.a.mark(function t(a){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.delete("/pin/".concat(a));case 2:w.a.get("/pin").then(function(t){e.setState({pinboard:t.data})});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleEditPinSubmit=function(){var t=Object(F.a)(T.a.mark(function t(a,n,r,i,l,o,c,s,u,p){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:w.a.put("/pin/".concat(a),{title:n,media_url:r,description:i,url:l,price:o,address:c,city:s,state:u,country:p}).then(function(t){e.componentDidMount()});case 1:case"end":return t.stop()}},t)}));return function(e,a,n,r,i,l,o,c,s,u){return t.apply(this,arguments)}}(),e.handleSearchInput=function(t){e.setState(Object(U.a)({},t.target.name,t.target.value))},e.state={pinboard:[],search_input:""},e}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.get("/pin").then(function(t){e.setState({pinboard:t.data})}).catch(function(){return console.log("You have an error in your CDM for PublicPins.js")})}},{key:"render",value:function(){var e=this,t=this.state.search_input,a=this.state.pinboard.map(function(t){return r.a.createElement(q,{pin:t,key:t.pin_id,deleteId:t.pin_id,handleDelete:e.handleDelete,handleEdit:e.handleEditPinSubmit})}),n=a.filter(function(e){var n=e.props.pin.title.toLocaleLowerCase(),r=e.props.pin.description.toLocaleLowerCase(),i=e.props.pin.city.toLocaleLowerCase(),l=e.props.pin.state.toLocaleLowerCase(),o=e.props.pin.country.toLocaleLowerCase(),c=t.toLocaleLowerCase();return""!==t?n.includes(c)||r.includes(c)||i.includes(c)||l.includes(c)||o.includes(c):a});return r.a.createElement("div",{className:"publicPins"},r.a.createElement("h1",null,"Need Inspiration?"),r.a.createElement("div",{className:"pinboardPseudoNav"},r.a.createElement(j.b,{to:"/pin/create"},r.a.createElement("button",null,"Create a Pin")),r.a.createElement("input",{name:"search_input",value:this.state.search_input,placeholder:"Search for your next adventure",onChange:this.handleSearchInput})),r.a.createElement("div",{className:"publicPinBoard"},n))}}]),t}(n.Component),R=function(e){function t(){return Object(C.a)(this,t),Object(S.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.get("/auth/details").then(function(t){e.props.updateUserDetails(t.data)}).catch(function(){return console.log("error in home componentDidMount")})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,null))}}]),t}(n.Component),G={updateUserDetails:f},Y=Object(o.b)(null,G)(R),B=function(e){function t(){var e;return Object(C.a)(this,t),(e=Object(S.a)(this,Object(I.a)(t).call(this))).handleFormInputUpdate=function(t){var a;e.setState((a={},Object(U.a)(a,t.target.name,t.target.value),Object(U.a)(a,"loginError",!1),a))},e.handleLoginFormSubmit=function(){var t=Object(F.a)(T.a.mark(function t(a){var n,r,i,l;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state,r=n.loginEmail,i=n.loginPassword,t.prev=2,t.next=5,w.a.post("/auth/login",{loginEmail:r,loginPassword:i});case 5:l=t.sent,e.props.updateEmail(l.data.loginEmail),e.props.updateUserId(l.data.user_id),e.props.history.push("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),e.setState({loginEmail:"",loginPassword:"",loginError:!0});case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),e.state={loginEmail:"",loginPassword:"",loginError:!1,loginErrorMessage:"Email or Password is incorrect. Please try again"},e}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loginForm"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleLoginFormSubmit},r.a.createElement("input",{type:"text",name:"loginEmail",placeholder:"Email",value:this.state.loginEmail,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"loginPassword",placeholder:"Password",value:this.state.loginPassword,onChange:this.handleFormInputUpdate}),r.a.createElement("button",null,"Login")),this.state.loginError&&r.a.createElement("h3",null,this.state.loginErrorMessage))}}]),t}(n.Component),H={updateUserId:h,updateEmail:v},W=Object(o.b)(null,H)(Object(_.e)(B)),X=function(e){function t(){return Object(C.a)(this,t),Object(S.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.props.email&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(W,null),this.props.children)}}]),t}(n.Component),V=Object(o.b)(function(e){return{email:e.email}})(Object(_.e)(X)),J=function(e){function t(){var e;return Object(C.a)(this,t),(e=Object(S.a)(this,Object(I.a)(t).call(this))).handleFormInputUpdate=function(t){var a;e.setState((a={},Object(U.a)(a,t.target.name,t.target.value),Object(U.a)(a,"signupError",!1),a))},e.handleSignUpFormSubmit=function(){var t=Object(F.a)(T.a.mark(function t(a){var n,r,i,l,o,c,s,u,p,d,m;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,r=n.firstname,i=n.lastname,l=n.email,o=n.username,c=n.password,s=n.phone,u=n.venmo,p=n.profilePic,""!==r){t.next=6;break}alert("First Name is required"),t.next=38;break;case 6:if(""!==i){t.next=10;break}alert("Last Name is required"),t.next=38;break;case 10:if(""!==l){t.next=14;break}alert("Email is required"),t.next=38;break;case 14:if(""!==o){t.next=18;break}alert("Username is required"),t.next=38;break;case 18:if(""!==c){t.next=22;break}alert("Password is required"),t.next=38;break;case 22:if(""!==s){t.next=26;break}alert("Phone is required"),t.next=38;break;case 26:return t.prev=26,t.next=29,w.a.post("/auth/register",{firstname:r,lastname:i,email:l,username:o,password:c,phone:s,venmo:u,profilePic:p});case 29:d=t.sent,m=d.data[0].user_id,e.props.updateUserDetails({user_id:m,firstname:r,lastname:i,email:l,username:o,password:c,phone:s,venmo:u,profilePic:p}),e.props.history.push("/"),t.next=38;break;case 35:t.prev=35,t.t0=t.catch(26),e.setState({firstname:"",lastname:"",email:"",username:"",password:"",phone:"",venmo:"",profilePic:"",signupError:!0});case 38:case"end":return t.stop()}},t,null,[[26,35]])}));return function(e){return t.apply(this,arguments)}}(),e.state={firstname:"",lastname:"",email:"",username:"",password:"",phone:"",venmo:"",profilePic:"",signupError:!1,signupErrorMessage:"That email has been taken"},e}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"signUpForm"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleSignUpFormSubmit},r.a.createElement("input",{type:"text",name:"firstname",placeholder:"First Name",value:this.state.firstname,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"lastname",placeholder:"Last Name",value:this.state.lastname,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"phone",placeholder:"Phone Number",value:this.state.phone,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"venmo",placeholder:"Venmo Handle",value:this.state.venmo,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"profilePic",placeholder:"Profile Pic URL",value:this.state.profilePic,onChange:this.handleFormInputUpdate}),r.a.createElement("button",null,"Sign Up")),this.state.signupError&&r.a.createElement("h3",null,this.state.signupErrorMessage))}}]),t}(n.Component),Q={updateUserDetails:f},$=Object(o.b)(null,Q)(Object(_.e)(J)),z=function(e){function t(){return Object(C.a)(this,t),Object(S.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.props.email&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($,null),this.props.children)}}]),t}(n.Component),K=Object(o.b)(function(e){return{email:e.email}})(Object(_.e)(z)),Z=function(e){function t(e){var a;Object(C.a)(this,t);var n=(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).props.trip,r=n.trip_id,i=n.name,l=n.user_id;return a.state={trip_id:r,name:i,user_id:l,tripPic:"https://cidco-smartcity.niua.org/wp-content/uploads/2017/08/No-image-found.jpg"},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.trip_id;w.a.get("/pin/tripPins/".concat(t)).then(function(t){var a=t.data[0].media_url;e.setState({tripPic:a})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.user_id,i=t.trip_id,l=t.tripPic;return r.a.createElement("div",{className:"tripTile"},r.a.createElement(j.b,{to:"/trip/".concat(n,"/").concat(i)},r.a.createElement("h3",null,a)),r.a.createElement("img",{src:"".concat(l),alt:"first pic from pintile"}),r.a.createElement("button",{onClick:function(){return e.props.handleDelete(e.props.deleteId)}},"Delete"))}}]),t}(n.Component),ee=function(e){function t(){var e;return Object(C.a)(this,t),(e=Object(S.a)(this,Object(I.a)(t).call(this))).handleDelete=function(){var t=Object(F.a)(T.a.mark(function t(a){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.delete("/trip/".concat(a));case 2:e.componentDidMount();case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.state={tripboard:[]},e}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.get("/trip/mytrips/".concat(this.props.user_id)).then(function(t){e.setState({tripboard:t.data})}).catch(function(){return console.log("You have an error in your CDM for MyTrips.js")})}},{key:"render",value:function(){var e=this,t=this.state.tripboard.map(function(t){return r.a.createElement(Z,{trip:t,key:t.trip_id,deleteId:t.trip_id,handleDelete:e.handleDelete})});return r.a.createElement("div",{className:"myTripsBoard"},r.a.createElement("h2",null,"Where you have been, where you are, and where you are going"),r.a.createElement("div",{className:"tripTilesOnBoard"},t))}}]),t}(n.Component),te=Object(o.b)(function(e){var t=e.account;return{username:t.username,user_id:t.user_id}})(ee),ae=function(e){function t(){return Object(C.a)(this,t),Object(S.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.get("/auth/session").then(function(t){t.data.email||e.props.history.push("/"),O.dispatch({type:"REFRESH_SESSION",payload:t.data.user})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"profilePage"},r.a.createElement("h1",null,"Where to next ",this.props.username,"?"),r.a.createElement("div",{className:"profilePageBtnContainer"},r.a.createElement(j.b,{to:"/trip/plan"},r.a.createElement("button",null,"Plan a Trip")),r.a.createElement(j.b,{to:"/pin/create"},r.a.createElement("button",null,"Create a Pin"))),r.a.createElement(te,null))}}]),t}(n.Component),ne=Object(o.b)(function(e){return{username:e.account.username}})(ae),re=a(22),ie=function(e){function t(e){var a;Object(C.a)(this,t);var n=(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).props.user,r=n.username,i=n.firstname,l=n.lastname;return a.state={username:r,firstname:i,lastname:l,personClicked:!1},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.firstname,i=t.lastname;return!1===this.state.personClicked?r.a.createElement("div",{className:"inviteTile"},r.a.createElement("div",{className:"names"},r.a.createElement("h4",null,"Username: ",a),r.a.createElement("h6",null,"Full name: ","".concat(n," ").concat(i))),r.a.createElement("button",{onClick:function(){e.props.addToInvitedList(e.props.user),e.setState({personClicked:!e.state.personClicked})}},"Invite")):r.a.createElement("div",{className:"remove"},r.a.createElement("div",{className:"names"},r.a.createElement("h4",null,"Username: ",a),r.a.createElement("h6",null,"Full name: ","".concat(n," ").concat(i))),r.a.createElement("button",{onClick:function(){e.props.addToInvitedList(e.props.user),e.setState({personClicked:!e.state.personClicked})}},"Remove"))}}]),t}(n.Component),le=function(e){function t(e){var a;Object(C.a)(this,t),(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).addToInvitedList=function(e){var t=Object(re.a)(a.state.invited);if(1===t.filter(function(t){return e.user_id===t.user_id}).length){var n=t.indexOf(e);t.splice(n,1),a.setState({invited:Object(re.a)(t)})}else a.setState({invited:[].concat(Object(re.a)(t),[e])})},a.AddUsersToTrip=function(e){var t=a.props.trip_id;w.a.post("/auth/invite",{invited:e,trip_id:t})},a.handleInput=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.handleInviteEmail=function(){var e=a.state,t=e.username,n=e.invite_email,r=e.invite_name;""===n?alert("Email is required"):""===r?alert("Name is required"):(w.a.post("/auth/newUser",{username:t,invite_email:n,invite_name:r}).then(function(){}).catch(function(e){return console.log("err in handleInviteEmail in Invite.js: ",e)}),a.setState({invite_email:"",invite_name:""}))};var n=a.props.username;return a.state={users:[],invited:[],search_input:"",invite_email:"",invite_name:"",username:n},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.get("/auth/allUsers").then(function(t){var a=Object(re.a)(t.data),n=a.filter(function(t){return e.props.user_id===t.user_id});if(1===n.length){var r=a.indexOf(n[0]);a.splice(r,1)}e.setState({users:Object(re.a)(a)})}).catch(function(){return console.log("You have an error in your CDM for Invite.js")})}},{key:"render",value:function(){var e=this,t=this.state.search_input,a=this.props,n=a.name,i=a.handleClick,l=this.state.users.map(function(t,a){return r.a.createElement(ie,{user:t,key:a,addToInvitedList:e.addToInvitedList})}),o=l.filter(function(e){var a=e.props.user.username.toLocaleLowerCase(),n=e.props.user.firstname.toLocaleLowerCase(),r=e.props.user.lastname.toLocaleLowerCase(),i=t.toLocaleLowerCase();return""!==t?a.includes(i)||n.includes(i)||r.includes(i):l});return r.a.createElement("div",{className:"invitePage"},r.a.createElement("h2",null,"Whose coming with you on ",n,"?"),r.a.createElement("input",{name:"search_input",value:this.state.search_input,placeholder:"Search for your adventure buddies",onChange:this.handleInput}),r.a.createElement("div",{className:"listOfInvitees"},o),r.a.createElement("button",{onClick:function(){i(),e.AddUsersToTrip(e.state.invited)}},"Done"),r.a.createElement("h4",null,"Couldn't find your adventure buddy? Invite them to join TripDaddy"),r.a.createElement("input",{name:"invite_name",value:this.state.invite_name,placeholder:"Your adventure buddy's name",onChange:this.handleInput}),r.a.createElement("input",{name:"invite_email",value:this.state.invite_email,placeholder:"Your adventure buddy's email",onChange:this.handleInput}),r.a.createElement("button",{onClick:function(){e.handleInviteEmail()}},"Send"))}}]),t}(n.Component),oe=Object(o.b)(function(e){var t=e.account;return{user_id:t.user_id,username:t.username}})(le),ce=function(e){function t(e){var a;Object(C.a)(this,t);var n=(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).props.member,r=n.user_id,i=n.firstName,l=n.lastName,o=n.email,c=n.phone,s=n.venmo,u=n.username,p=n.profilePic,d=a.props.trip_id;return a.state={trip_id:d,user_id:r,firstName:i,lastName:l,email:o,phone:c,venmo:s,username:u,profilePic:p},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.trip_id,n=t.user_id,i=t.firstName,l=t.lastName,o=t.email,c=t.phone,s=t.venmo,u=t.username,p=t.profilePic;return r.a.createElement("div",{style:{border:"1px solid black"}},r.a.createElement("img",{src:p,alt:u,style:{width:"200px"}}),r.a.createElement("h4",null,"Username: ",u),r.a.createElement("h5",null,"Full Name: ",i," ",l),r.a.createElement("h5",null,"Phone: ",c),r.a.createElement("h5",null,"Email: ",o),r.a.createElement("h5",null,"Venmo Handle: ",s),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.props.handleRemove(n,a)}},"Remove")))}}]),t}(n.Component),se=function(e){function t(e){var a;Object(C.a)(this,t),(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).handleRemove=function(){var e=Object(F.a)(T.a.mark(function e(t,n){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("/group/members/".concat(t,"/").concat(n));case 2:return e.next=4,w.a.get("/group/members/".concat(n)).then(function(e){a.setState({group:e.data})});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();var n=a.props.trip_id;return a.state={trip_id:n,group:[]},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.trip_id;w.a.get("/group/members/".concat(t)).then(function(t){e.setState({group:t.data})}).catch(function(){return console.log("You have an error in your CDM for Group.js")})}},{key:"render",value:function(){var e=this,t=this.state.group.map(function(t){return r.a.createElement(ce,{member:t,key:t.user_id,trip_id:e.state.trip_id,handleRemove:e.handleRemove})});return r.a.createElement("div",null,r.a.createElement("h4",null,"Your Adventure Buddies"),t)}}]),t}(n.Component),ue=function(e){function t(e){var a;Object(C.a)(this,t),(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).handleEditItemSubmit=function(){var e=Object(F.a)(T.a.mark(function e(t){var n,r,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state,r=n.task,i=n.todo_id,a.props.handleEdit(r,i),a.setState({edit:!1});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleFormInputUpdate=function(e){e.preventDefault(),a.setState(Object(U.a)({},e.target.name,e.target.value))},a.handleCancel=function(){a.setState({edit:!1})};var n=a.props.task,r=n.task,i=n.todo_id,l=a.props.deleteId;return a.state={todo_id:i,task:r,deleteId:l,edit:!1},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.task,n=t.deleteId;return!1===this.state.edit?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("em",null,a)),r.a.createElement("button",{onClick:function(){e.setState({edit:!0})}},"edit "),r.a.createElement("button",{onClick:function(){e.props.handleDelete(n)}}," delete")):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleEditItemSubmit},r.a.createElement("input",{type:"text",name:"task",placeholder:"Task",value:this.state.task,onChange:this.handleFormInputUpdate}),r.a.createElement("button",null,"Submit")),r.a.createElement("button",{onClick:function(){e.handleCancel()}},"Cancel"))}}]),t}(n.Component),pe=function(e){function t(e){var a;Object(C.a)(this,t),(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).handleCreateTodoSubmit=function(){var e=Object(F.a)(T.a.mark(function e(t){var n,r,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state,r=n.task,i=n.trip_id,""===r?alert("Task is required"):(w.a.post("/todo/task",{task:r,trip_id:i}).then(function(e){a.componentDidMount()}),a.setState({task:"",addTodo:!a.state.addTodo}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleFormInputUpdate=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.handleDelete=function(){var e=Object(F.a)(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.trip_id,e.next=3,w.a.delete("/todo/delete/".concat(t));case 3:w.a.get("/todo/tripTodos/".concat(n)).then(function(e){a.setState({gearlist:e.data})});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleEditSubmit=function(){var e=Object(F.a)(T.a.mark(function e(t,n){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w.a.put("/todo/update/".concat(n),{task:t}).then(function(e){a.componentDidMount()});case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleOnClickEdit=function(){a.setState({edit:!a.state.edit})};var n=a.props.trip_id;return a.state={todolist:[],task:"",trip_id:n,addTodo:!1},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.trip_id;w.a.get("/todo/tripTodos/".concat(t)).then(function(t){e.setState({todolist:t.data})}).catch(function(){return console.log("you have an error in your CDM for TodoList.js")})}},{key:"handleAddClick",value:function(){this.setState({addTodo:!this.state.addTodo})}},{key:"render",value:function(){var e=this,t=this.state.todolist.map(function(t){return r.a.createElement(ue,{task:t,key:t.todo_id,deleteId:t.todo_id,handleDelete:e.handleDelete,handleEdit:e.handleEditSubmit,handleOnClickEdit:e.handleOnClickEdit})});return!1===this.state.addTodo?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Task for the trip"),r.a.createElement("button",{onClick:function(){e.handleAddClick()}},"Add a Todo"),t):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Todos for the trip"),r.a.createElement("form",{onSubmit:this.handleCreateGearSubmit},r.a.createElement("input",{type:"text",name:"task",placeholder:"Task",value:this.state.task,onChange:this.handleFormInputUpdate}),r.a.createElement("button",null,"Submit")),r.a.createElement("button",{onClick:function(){e.handleAddClick()}},"Cancel"),t)}}]),t}(n.Component),de=function(e){function t(e){var a;Object(C.a)(this,t),(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).handleEditItemSubmit=function(){var e=Object(F.a)(T.a.mark(function e(t){var n,r,i,l;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state,r=n.name,i=n.quantity,l=n.gear_id,a.props.handleEdit(r,i,l),a.setState({edit:!1});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleFormInputUpdate=function(e){e.preventDefault(),a.setState(Object(U.a)({},e.target.name,e.target.value))},a.handleCancel=function(){a.setState({edit:!1})};var n=a.props.item,r=n.name,i=n.quantity,l=n.gear_id,o=a.props.deleteId;return a.state={gear_id:l,name:r,quantity:i,deleteId:o,edit:!1},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.quantity,i=t.deleteId;return!1===this.state.edit?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("em",null,a),": ",n),r.a.createElement("button",{onClick:function(){e.setState({edit:!0})}},"edit "),r.a.createElement("button",{onClick:function(){e.props.handleDelete(i)}}," delete")):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleEditItemSubmit},r.a.createElement("input",{type:"text",name:"name",placeholder:"Gear name",value:this.state.name,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"number",name:"quantity",placeholder:"Quantity",value:this.state.quantity,onChange:this.handleFormInputUpdate}),r.a.createElement("button",null,"Submit")),r.a.createElement("button",{onClick:function(){e.handleCancel()}},"Cancel"))}}]),t}(n.Component),me=function(e){function t(e){var a;Object(C.a)(this,t),(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).handleCreateGearSubmit=function(){var e=Object(F.a)(T.a.mark(function e(t){var n,r,i,l;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state,r=n.name,i=n.quantity,l=n.trip_id,""===r?alert("Gear name is required"):""===i?alert("You need to put a quantity on that item"):(w.a.post("/gear/item",{name:r,quantity:i,trip_id:l}).then(function(e){a.componentDidMount()}),a.setState({name:"",quantity:"",addGear:!a.state.addGear}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleFormInputUpdate=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.handleDelete=function(){var e=Object(F.a)(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.trip_id,e.next=3,w.a.delete("/gear/delete/".concat(t));case 3:w.a.get("/gear/tripGear/".concat(n)).then(function(e){a.setState({gearlist:e.data})});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleEditSubmit=function(){var e=Object(F.a)(T.a.mark(function e(t,n,r){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r),w.a.put("/gear/update/".concat(r),{name:t,quantity:n}).then(function(e){a.componentDidMount()});case 2:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.handleOnClickEdit=function(){a.setState({edit:!a.state.edit})};var n=a.props.trip_id;return a.state={gearlist:[],name:"",quantity:"",trip_id:n,addGear:!1},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.trip_id;w.a.get("/gear/tripGear/".concat(t)).then(function(t){e.setState({gearlist:t.data})}).catch(function(){return console.log("you have an error in your CDM for Gear.js")})}},{key:"handleAddClick",value:function(){this.setState({addGear:!this.state.addGear})}},{key:"render",value:function(){var e=this,t=this.state.gearlist.map(function(t){return r.a.createElement(de,{item:t,key:t.gear_id,deleteId:t.gear_id,handleDelete:e.handleDelete,handleEdit:e.handleEditSubmit,handleOnClickEdit:e.handleOnClickEdit})});return!1===this.state.addGear?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Gear for the trip"),r.a.createElement("button",{onClick:function(){e.handleAddClick()}},"Add Gear"),t):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Gear for the trip"),r.a.createElement("form",{onSubmit:this.handleCreateGearSubmit},r.a.createElement("input",{type:"text",name:"name",placeholder:"Gear name",value:this.state.name,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"number",name:"quantity",placeholder:"Quantity",value:this.state.quantity,onChange:this.handleFormInputUpdate}),r.a.createElement("button",null,"Submit")),r.a.createElement("button",{onClick:function(){e.handleAddClick()}},"Cancel"),t)}}]),t}(n.Component),he=function(e){function t(e){var a;Object(C.a)(this,t);var n=(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).props.pin,r=n.pin_id,i=n.title,l=n.media_url,o=n.description,c=n.url,s=n.price,u=n.address,p=n.city,d=n.state,m=n.country,h=a.props.trip_id;return a.state={trip_id:h,pin_id:r,title:i,media_url:l,description:o,url:c,price:s,address:u,city:p,state:d,country:m},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.trip_id,n=t.pin_id,i=t.title,l=t.media_url,o=t.description,c=t.url,s=t.price,u=t.address,p=t.city,d=t.state,m=t.country;return r.a.createElement("div",{style:{border:"1px solid black"}},r.a.createElement("a",{href:"".concat(c),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("h2",null,i)),r.a.createElement("h4",null,"$",s),r.a.createElement("h4",null,p,", ",d,", ",m),r.a.createElement("img",{src:l,alt:i,style:{width:"200px"}}),r.a.createElement("h4",null,u),r.a.createElement("p",null,o),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.props.handleRemove(n,a)}},"Remove")))}}]),t}(n.Component),ve=function(e){function t(e){var a;Object(C.a)(this,t),(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).handleRemove=function(){var e=Object(F.a)(T.a.mark(function e(t,n){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("/pin/trip/".concat(t,"/").concat(n));case 2:w.a.get("/pin/tripPins/".concat(n)).then(function(e){console.log(e.data),a.setState({pinboard:e.data})});case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();var n=a.props.trip_id;return a.state={trip_id:n,pinboard:[]},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.trip_id;w.a.get("/pin/tripPins/".concat(t)).then(function(t){e.setState({pinboard:t.data})}).catch(function(){return console.log("You have an error in your CDM for TripBoard.js")})}},{key:"render",value:function(){var e=this,t=this.state.pinboard.map(function(t){return r.a.createElement(he,{pin:t,key:t.pin_id,trip_id:e.state.trip_id,handleRemove:e.handleRemove})});return r.a.createElement("div",null,r.a.createElement("h1",null,"Ideas for your Adventure"),r.a.createElement(j.b,{to:"/pin/create"},r.a.createElement("button",null,"Create a Pin")),t)}}]),t}(n.Component),fe=a(64),be=a.n(fe),Ee=function(e){function t(e){var a;Object(C.a)(this,t);var n=(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).props.message,r=n.username,i=n.message,l=a.props.deleteId;return a.state={message:i,username:r,deleteId:l},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.message,n=t.username,i=t.deleteId;return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("em",null,n),": ",a),r.a.createElement("span",{onClick:function(){e.props.handleDelete(i)}},"x"))}}]),t}(n.Component),ye=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.trip_id;a.socket.emit("join room",{trip_id:e}),w.a.get("/chat/tripConversation/".concat(e)).then(function(e){a.setState({conversation:e.data})})},a.addMessage=function(e){var t=a.state.conversation.slice();t.push(e),a.setState({conversation:t})},a.handleOnClick=function(){var e=a.props.trip_id;""===a.state.message?alert("You need to type a message"):(a.socket.emit("chat in room",{message:a.state.message,username:a.props.username,trip_id:e}),w.a.post("/chat/message",{message:a.state.message,username:a.props.username,user_id:a.props.user_id,trip_id:e}))},a.handleOnChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.handleDelete=function(){var e=Object(F.a)(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.trip_id,e.next=3,w.a.delete("/chat/delete/".concat(t));case 3:w.a.get("/chat/tripConversation/".concat(n)).then(function(e){a.setState({conversation:e.data})});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={conversation:[],message:"",feedback:"",username:"",user_id:a.props.user_id},a.socket=be.a.connect("http://localhost:4242"),a.socket.on("room response",function(e){return a.addMessage(e)}),a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.state.conversation.map(function(t){return r.a.createElement(Ee,{message:t,key:t.chat_id,deleteId:t.chat_id,handleDelete:e.handleDelete})});return r.a.createElement("div",{id:"adventure-chat"},r.a.createElement("div",{id:"chat-window"},r.a.createElement("div",{id:"output"},t)),r.a.createElement("input",{id:"message",name:"message",type:"text",placeholder:"Message",value:this.state.message,onChange:this.handleOnChange}),r.a.createElement("button",{id:"send",onClick:this.handleOnClick},"Send"))}}]),t}(n.Component),ge=Object(o.b)(function(e){var t=e.account;return{username:t.username,user_id:t.user_id}})(ye),Oe=function(e){function t(e){var a;Object(C.a)(this,t),(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).handleClick=function(){a.setState({invite:!a.state.invite})};var n=a.props.trip_id;return a.state={trip_id:n,name:"",user_id:null,invite:!1},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.get("/auth/session").then(function(t){t.data.email||e.props.history.push("/"),O.dispatch({type:"REFRESH_SESSION",payload:t.data.user})}),w.a.get("/trip/".concat(this.props.trip_id)).then(function(t){e.setState({name:t.data[0].name,user_id:t.data[0].user_id})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.invite,i=t.trip_id,l=t.user_id;return!1===n?r.a.createElement("div",null,r.a.createElement("h1",null,a),r.a.createElement(se,{trip_id:i}),r.a.createElement("button",{onClick:function(){return e.handleClick()}},"Invite"),r.a.createElement(pe,{trip_id:i}),r.a.createElement(me,{trip_id:i}),r.a.createElement(ge,{trip_id:i}),r.a.createElement(ve,{trip_id:i})):r.a.createElement("div",null,r.a.createElement(oe,{trip_id:i,name:a,user_id:l,handleInvite:this.handleInvite,handleClick:this.handleClick}))}}]),t}(n.Component),je=Object(o.b)(function(e,t){return{trip_id:t.match.params.trip_id}})(Oe),_e=function(e){function t(){var e;return Object(C.a)(this,t),(e=Object(S.a)(this,Object(I.a)(t).call(this))).handleFormInputUpdate=function(t){e.setState(Object(U.a)({},t.target.name,t.target.value))},e.handleCreatePinSubmit=function(){var t=Object(F.a)(T.a.mark(function t(a){var n,r,i,l,o,c,s,u,p,d;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n=e.state,r=n.title,i=n.media_url,l=n.description,o=n.url,c=n.price,s=n.address,u=n.city,p=n.state,d=n.country,""===r?alert("Pin title is required"):""===i?alert("Image url is required"):""===l?alert("A brief description is required"):""===s?alert("Address is required"):""===u?alert("City or location name is required"):""===p?alert("state/Providence is required"):""===d?alert("Country is required"):(w.a.post("/pin",{title:r,media_url:i,description:l,url:o,price:c,address:s,city:u,state:p,country:d}),e.props.history.push("/"));case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleCancel=function(t){t.preventDefault(),e.props.history.push("/")},e.state={title:"",media_url:"",description:"",url:"",price:"",address:"",city:"",state:"",country:""},e}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.get("/auth/session").then(function(t){t.data.email||e.props.history.push("/"),O.dispatch({type:"REFRESH_SESSION",payload:t.data.user})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"createAPinForm"},r.a.createElement("h1",null,"Create a Pin"),r.a.createElement("form",{onSubmit:this.handleCreatePinSubmit},r.a.createElement("input",{type:"text",name:"title",placeholder:"Title",value:this.state.title,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"media_url",placeholder:"Image URL",value:this.state.media_url,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"description",placeholder:"Description",value:this.state.description,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"url",placeholder:"Website URL",value:this.state.url,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"price",placeholder:"Price",value:this.state.price,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"address",placeholder:"Address",value:this.state.address,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"city",placeholder:"City",value:this.state.city,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"state",placeholder:"State/Providence",value:this.state.state,onChange:this.handleFormInputUpdate}),r.a.createElement("input",{type:"text",name:"country",placeholder:"Country",value:this.state.country,onChange:this.handleFormInputUpdate}),r.a.createElement("button",null,"Submit")),r.a.createElement("button",{onClick:this.handleCancel},"Cancel"))}}]),t}(n.Component),Ce=Object(_.e)(_e),ke=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(S.a)(this,Object(I.a)(t).call(this,e))).handleFormInputUpdate=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.handleCreateTripSubmit=function(){var e=Object(F.a)(T.a.mark(function e(t){var n,r,i,l;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state,r=n.group_leader,i=n.name,l=n.user_id,""===i?alert("Name is required"):(w.a.post("/trip",{group_leader:r,name:i,user_id:l}).catch(function(){return console.log("you did NOT create a trip")}),a.props.history.push("/profile"));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleCancel=function(e){e.preventDefault(),a.props.history.push("/profile")},a.state={group_leader:!0,user_id:a.props.user_id,name:""},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.get("/auth/session").then(function(t){t.data.email||e.props.history.push("/"),O.dispatch({type:"REFRESH_SESSION",payload:t.data.user})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"planATrip"},r.a.createElement("h1",null,"Plan A Trip"),r.a.createElement("form",{onSubmit:this.handleCreateTripSubmit},r.a.createElement("input",{type:"text",name:"name",placeholder:"Pick a Name for your Adventure",value:this.state.name,onChange:this.handleFormInputUpdate}),r.a.createElement("button",null,"Submit")),r.a.createElement("button",{onClick:this.handleCancel},"Cancel"))}}]),t}(n.Component),Se=Object(o.b)(function(e){return{user_id:e.account.user_id}})(Object(_.e)(ke)),Ie=r.a.createElement(_.c,null,r.a.createElement(_.a,{exact:!0,path:"/",component:Y}),r.a.createElement(_.a,{path:"/login",component:V}),r.a.createElement(_.a,{path:"/signup",component:K}),r.a.createElement(_.a,{path:"/profile",component:ne}),r.a.createElement(_.a,{path:"/pin/create",component:Ce}),r.a.createElement(_.a,{path:"/trip/plan",component:Se}),r.a.createElement(_.a,{path:"/trip/:user_id/:trip_id",component:je})),xe=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(S.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).handleLogoutSubmit=function(e){e.preventDefault(),w.a.get("/auth/logout").then(function(e){a.props.updateEmail(e.data.email),a.props.updateUserId(e.data.user_id),a.props.history.push("/")})},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.username;return r.a.createElement("nav",null,r.a.createElement("span",{className:"logo"},"TripDaddy"),!t&&r.a.createElement("div",{className:"notLoggedIn"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(j.b,{to:"/login"},r.a.createElement("button",null,"Login"))),r.a.createElement("li",null,r.a.createElement(j.b,{to:"/signup"},r.a.createElement("button",null,"Sign up"))))),t&&r.a.createElement("div",{className:"loggedIn"},r.a.createElement("h3",null,"Welcome, ",a),r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(j.b,{to:"/"},r.a.createElement("button",null,"Home"))),r.a.createElement("li",null,r.a.createElement(j.b,{to:"/profile"},r.a.createElement("button",null,"Profile"))),r.a.createElement("li",null,r.a.createElement("button",{onClick:this.handleLogoutSubmit},"Logout"))))))}}]),t}(n.Component),De={updateUserId:h,updateEmail:v},we=Object(o.b)(function(e){var t=e.account;return{email:t.email,username:t.username,profilePic:t.profilePic}},De)(Object(_.e)(xe));var Ue=function(){return r.a.createElement(o.a,{store:O},r.a.createElement(j.a,null,r.a.createElement(we,null),Ie))};l.a.render(r.a.createElement(Ue,null),document.getElementById("root"))},65:function(e,t,a){e.exports=a(128)},70:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.b6a44e7d.chunk.js.map